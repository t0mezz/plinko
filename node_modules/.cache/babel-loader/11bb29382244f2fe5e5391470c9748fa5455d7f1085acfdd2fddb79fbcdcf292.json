{"ast":null,"code":"var _jsxFileName = \"/home/tom/Desktop/plinko/src/components/PlinkoGame/PlinkoGame.js\",\n  _s = $RefreshSig$();\n// Inside PlinkoGame.js\n\n// Remove unnecessary imports\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport Peg from '../Peg/Peg';\nimport Multiplier from '../Multiplier/Multiplier';\nimport './PlinkoGame.css';\nimport '../Ball/Ball.css';\n\n// Define the peg rows Y-coordinates\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PEG_ROWS_Y = [130, 190, 250, 310, 370, 430, 490, 550, 610];\nconst PlinkoGame = () => {\n  _s();\n  const [balls, setBalls] = useState([]);\n  const [budget, setBudget] = useState(1000);\n  const [ballPrice, setBallPrice] = useState(10);\n  const multiplierRefs = useRef([]);\n\n  // Generate pegs\n  const pegs = useMemo(() => generateCenteredPyramidPegs(10, 375, 70), []);\n\n  // Generate multipliers\n  const multipliers = useMemo(() => [{\n    multiplier: 8,\n    x: 114,\n    y: 650,\n    id: 0\n  }, {\n    multiplier: 4,\n    x: 164,\n    y: 650,\n    id: 1\n  }, {\n    multiplier: 2,\n    x: 214,\n    y: 650,\n    id: 2\n  }, {\n    multiplier: 1,\n    x: 264,\n    y: 650,\n    id: 3\n  }, {\n    multiplier: 0.5,\n    x: 314,\n    y: 650,\n    id: 4\n  }, {\n    multiplier: 0.3,\n    x: 364,\n    y: 650,\n    id: 5\n  }, {\n    multiplier: 0.5,\n    x: 414,\n    y: 650,\n    id: 6\n  }, {\n    multiplier: 1,\n    x: 464,\n    y: 650,\n    id: 7\n  }, {\n    multiplier: 2,\n    x: 514,\n    y: 650,\n    id: 8\n  }, {\n    multiplier: 4,\n    x: 564,\n    y: 650,\n    id: 9\n  }, {\n    multiplier: 8,\n    x: 614,\n    y: 650,\n    id: 10\n  }], []);\n  const animationRef = useRef();\n  useEffect(() => {\n    const update = () => {\n      setBalls(prevBalls => prevBalls.map(ball => {\n        // Move the ball down by a fixed amount\n        let newY = ball.position.y + 5;\n\n        // At each peg row, randomly move left or right\n        if (PEG_ROWS_Y.includes(Math.round(newY))) {\n          const direction = Math.random() < 0.5 ? -1 : 1; // -1 for left, 1 for right\n          const shiftX = direction * 20; // Fixed horizontal shift\n          ball.position.x += shiftX;\n        }\n\n        // Update the ball's position\n        const newPosition = {\n          x: ball.position.x,\n          y: newY\n        };\n\n        // Ensure the ball stays within the game board boundaries\n        if (newPosition.x < 10) newPosition.x = 10;\n        if (newPosition.x > 740) newPosition.x = 740;\n\n        // Check for collisions with multipliers\n        let hitMultiplier = false;\n        multipliers.forEach((mult, index) => {\n          const withinX = newPosition.x > mult.x && newPosition.x < mult.x + 45;\n          const withinY = newPosition.y > mult.y && newPosition.y < mult.y + 45;\n          if (withinX && withinY && !ball.hitMultiplier) {\n            // Update budget\n            setBudget(prev => prev + ballPrice * mult.multiplier);\n\n            // Add animation class\n            const multiplierElement = multiplierRefs.current[index];\n            if (multiplierElement) {\n              multiplierElement.classList.add('multiplier-hit');\n              setTimeout(() => {\n                multiplierElement.classList.remove('multiplier-hit');\n              }, 500);\n            }\n\n            // Mark the ball as hit\n            ball.hitMultiplier = true;\n            hitMultiplier = true;\n          }\n        });\n\n        // Remove the ball if it has hit a multiplier or gone off-screen\n        if (hitMultiplier || newPosition.y > 900) {\n          return null;\n        } else {\n          return {\n            ...ball,\n            position: newPosition\n          };\n        }\n      }).filter(Boolean));\n      animationRef.current = requestAnimationFrame(update);\n    };\n    animationRef.current = requestAnimationFrame(update);\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [multipliers, ballPrice]);\n  const addBall = () => {\n    if (budget < ballPrice) {\n      return;\n    }\n    setBudget(prev => prev - ballPrice);\n    const newBall = {\n      id: Date.now(),\n      position: {\n        x: 375,\n        y: 70\n      },\n      // Start at the top center\n      hitMultiplier: false\n    };\n    setBalls(prevBalls => [...prevBalls, newBall]);\n  };\n\n  // PlinkoGame.js\n\n  // ... [other imports and code remain unchanged]\n\n  useEffect(() => {\n    const update = () => {\n      setBalls(prevBalls => prevBalls.map(ball => {\n        // Update velocity with gravity\n        let newVelocity = {\n          x: ball.velocity.x,\n          y: ball.velocity.y + 0.1 // gravity\n        };\n        let newPosition = {\n          x: ball.position.x + newVelocity.x,\n          y: ball.position.y + newVelocity.y\n        };\n\n        // Detect collision with pegs\n        pegs.forEach(peg => {\n          const dx = newPosition.x - peg.x;\n          const dy = newPosition.y - peg.y;\n          const distance = Math.hypot(dx, dy);\n          const minDistance = 15; // radius of ball + radius of peg\n\n          if (distance < minDistance) {\n            // Randomly decide left or right\n            const direction = Math.random() < 0.5 ? -1 : 1; // -1 for left, 1 for right\n\n            // Calculate new velocity to simulate bounce\n            const speed = Math.hypot(newVelocity.x, newVelocity.y);\n            const angle = Math.atan2(newVelocity.y, newVelocity.x);\n            const bounceAngle = angle + direction * (Math.PI / 4); // Adjust angle by 45 degrees\n\n            newVelocity.x = speed * Math.cos(bounceAngle);\n            newVelocity.y = speed * Math.sin(bounceAngle);\n\n            // Adjust position slightly to prevent sticking\n            newPosition.x = peg.x + (minDistance + 1) * Math.cos(bounceAngle);\n            newPosition.y = peg.y + (minDistance + 1) * Math.sin(bounceAngle);\n          }\n        });\n\n        // Ensure the ball stays within the game board boundaries\n        if (newPosition.x < 10 || newPosition.x > 740) {\n          newVelocity.x = -newVelocity.x * 0.5; // Reverse and dampen x velocity\n          newPosition.x = newPosition.x < 10 ? 10 : 740;\n        }\n\n        // Check for collisions with multipliers\n        let hitMultiplier = false;\n        multipliers.forEach((mult, index) => {\n          const withinX = newPosition.x > mult.x && newPosition.x < mult.x + 45;\n          const withinY = newPosition.y > mult.y && newPosition.y < mult.y + 45;\n          if (withinX && withinY && !ball.hitMultiplier) {\n            // Update budget\n            setBudget(prev => prev + ballPrice * mult.multiplier);\n\n            // Add animation class\n            const multiplierElement = multiplierRefs.current[index];\n            if (multiplierElement) {\n              multiplierElement.classList.add('multiplier-hit');\n              setTimeout(() => {\n                multiplierElement.classList.remove('multiplier-hit');\n              }, 500);\n            }\n\n            // Mark the ball as hit\n            ball.hitMultiplier = true;\n            hitMultiplier = true;\n          }\n        });\n\n        // Remove the ball if it has hit a multiplier or gone off-screen\n        if (hitMultiplier || newPosition.y > 900) {\n          return null;\n        } else {\n          return {\n            ...ball,\n            position: newPosition,\n            velocity: newVelocity\n          };\n        }\n      }).filter(Boolean));\n      animationRef.current = requestAnimationFrame(update);\n    };\n    animationRef.current = requestAnimationFrame(update);\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [multipliers, ballPrice]);\n\n  // ... [rest of the code remains unchanged]\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-interface\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Budget: $\", budget.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Price per ball:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: ballPrice,\n          onChange: e => setBallPrice(Number(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addBall,\n        children: \"Drop Ball\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-board\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pegs\",\n        children: pegs.map((peg, index) => /*#__PURE__*/_jsxDEV(Peg, {\n          x: peg.x,\n          y: peg.y\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"multipliers\",\n        children: multipliers.map((mult, i) => /*#__PURE__*/_jsxDEV(Multiplier, {\n          ref: el => multiplierRefs.current[i] = el,\n          multiplier: mult.multiplier,\n          x: mult.x,\n          y: mult.y,\n          id: mult.id,\n          onHit: () => {}\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), balls.map(ball => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ball\",\n        style: {\n          left: `${ball.position.x}px`,\n          top: `${ball.position.y}px`\n        }\n      }, ball.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n};\n\n// Modify the generateCenteredPyramidPegs function to align with PEG_ROWS_Y\n_s(PlinkoGame, \"NuJl10Y4KlV7cU6QO192usnqeaw=\");\n_c = PlinkoGame;\nconst generateCenteredPyramidPegs = (rows, centerX, startY) => {\n  const pegs = [];\n  const spacingX = 55;\n  const spacingY = 60;\n  for (let row = 1; row <= rows; row++) {\n    for (let col = 0; col < row; col++) {\n      pegs.push({\n        x: centerX + (col - (row - 1) / 2) * spacingX,\n        y: startY + (row - 1) * spacingY\n      });\n    }\n  }\n  return pegs;\n};\nexport default PlinkoGame;\nvar _c;\n$RefreshReg$(_c, \"PlinkoGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","Peg","Multiplier","jsxDEV","_jsxDEV","PEG_ROWS_Y","PlinkoGame","_s","balls","setBalls","budget","setBudget","ballPrice","setBallPrice","multiplierRefs","pegs","generateCenteredPyramidPegs","multipliers","multiplier","x","y","id","animationRef","update","prevBalls","map","ball","newY","position","includes","Math","round","direction","random","shiftX","newPosition","hitMultiplier","forEach","mult","index","withinX","withinY","prev","multiplierElement","current","classList","add","setTimeout","remove","filter","Boolean","requestAnimationFrame","cancelAnimationFrame","addBall","newBall","Date","now","newVelocity","velocity","peg","dx","dy","distance","hypot","minDistance","speed","angle","atan2","bounceAngle","PI","cos","sin","className","children","toFixed","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","Number","target","onClick","i","ref","el","onHit","style","left","top","_c","rows","centerX","startY","spacingX","spacingY","row","col","push","$RefreshReg$"],"sources":["/home/tom/Desktop/plinko/src/components/PlinkoGame/PlinkoGame.js"],"sourcesContent":["// Inside PlinkoGame.js\n\n// Remove unnecessary imports\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport Peg from '../Peg/Peg';\nimport Multiplier from '../Multiplier/Multiplier';\nimport './PlinkoGame.css';\nimport '../Ball/Ball.css';\n\n// Define the peg rows Y-coordinates\nconst PEG_ROWS_Y = [130, 190, 250, 310, 370, 430, 490, 550, 610];\n\nconst PlinkoGame = () => {\n  const [balls, setBalls] = useState([]);\n  const [budget, setBudget] = useState(1000);\n  const [ballPrice, setBallPrice] = useState(10);\n  const multiplierRefs = useRef([]);\n\n  // Generate pegs\n  const pegs = useMemo(() => generateCenteredPyramidPegs(10, 375, 70), []);\n\n  // Generate multipliers\n  const multipliers = useMemo(\n    () => [\n      { multiplier: 8, x: 114, y: 650, id: 0 },\n      { multiplier: 4, x: 164, y: 650, id: 1 },\n      { multiplier: 2, x: 214, y: 650, id: 2 },\n      { multiplier: 1, x: 264, y: 650, id: 3 },\n      { multiplier: 0.5, x: 314, y: 650, id: 4 },\n      { multiplier: 0.3, x: 364, y: 650, id: 5 },\n      { multiplier: 0.5, x: 414, y: 650, id: 6 },\n      { multiplier: 1, x: 464, y: 650, id: 7 },\n      { multiplier: 2, x: 514, y: 650, id: 8 },\n      { multiplier: 4, x: 564, y: 650, id: 9 },\n      { multiplier: 8, x: 614, y: 650, id: 10 },\n    ],\n    []\n  );\n\n  const animationRef = useRef();\n\n  useEffect(() => {\n    const update = () => {\n      setBalls((prevBalls) =>\n        prevBalls\n          .map((ball) => {\n            // Move the ball down by a fixed amount\n            let newY = ball.position.y + 5;\n\n            // At each peg row, randomly move left or right\n            if (PEG_ROWS_Y.includes(Math.round(newY))) {\n              const direction = Math.random() < 0.5 ? -1 : 1; // -1 for left, 1 for right\n              const shiftX = direction * 20; // Fixed horizontal shift\n              ball.position.x += shiftX;\n            }\n\n            // Update the ball's position\n            const newPosition = {\n              x: ball.position.x,\n              y: newY,\n            };\n\n            // Ensure the ball stays within the game board boundaries\n            if (newPosition.x < 10) newPosition.x = 10;\n            if (newPosition.x > 740) newPosition.x = 740;\n\n            // Check for collisions with multipliers\n            let hitMultiplier = false;\n            multipliers.forEach((mult, index) => {\n              const withinX =\n                newPosition.x > mult.x && newPosition.x < mult.x + 45;\n              const withinY =\n                newPosition.y > mult.y && newPosition.y < mult.y + 45;\n\n              if (withinX && withinY && !ball.hitMultiplier) {\n                // Update budget\n                setBudget(\n                  (prev) => prev + ballPrice * mult.multiplier\n                );\n\n                // Add animation class\n                const multiplierElement = multiplierRefs.current[index];\n                if (multiplierElement) {\n                  multiplierElement.classList.add('multiplier-hit');\n                  setTimeout(() => {\n                    multiplierElement.classList.remove('multiplier-hit');\n                  }, 500);\n                }\n\n                // Mark the ball as hit\n                ball.hitMultiplier = true;\n                hitMultiplier = true;\n              }\n            });\n\n            // Remove the ball if it has hit a multiplier or gone off-screen\n            if (hitMultiplier || newPosition.y > 900) {\n              return null;\n            } else {\n              return {\n                ...ball,\n                position: newPosition,\n              };\n            }\n          })\n          .filter(Boolean)\n      );\n\n      animationRef.current = requestAnimationFrame(update);\n    };\n\n    animationRef.current = requestAnimationFrame(update);\n    return () => cancelAnimationFrame(animationRef.current);\n  }, [multipliers, ballPrice]);\n\n  const addBall = () => {\n    if (budget < ballPrice) {\n      return;\n    }\n    setBudget((prev) => prev - ballPrice);\n    const newBall = {\n      id: Date.now(),\n      position: { x: 375, y: 70 }, // Start at the top center\n      hitMultiplier: false,\n    };\n    setBalls((prevBalls) => [...prevBalls, newBall]);\n  };\n\n  // PlinkoGame.js\n\n// ... [other imports and code remain unchanged]\n\nuseEffect(() => {\n  const update = () => {\n    setBalls((prevBalls) =>\n      prevBalls\n        .map((ball) => {\n          // Update velocity with gravity\n          let newVelocity = {\n            x: ball.velocity.x,\n            y: ball.velocity.y + 0.1, // gravity\n          };\n\n          let newPosition = {\n            x: ball.position.x + newVelocity.x,\n            y: ball.position.y + newVelocity.y,\n          };\n\n          // Detect collision with pegs\n          pegs.forEach((peg) => {\n            const dx = newPosition.x - peg.x;\n            const dy = newPosition.y - peg.y;\n            const distance = Math.hypot(dx, dy);\n            const minDistance = 15; // radius of ball + radius of peg\n\n            if (distance < minDistance) {\n              // Randomly decide left or right\n              const direction = Math.random() < 0.5 ? -1 : 1; // -1 for left, 1 for right\n\n              // Calculate new velocity to simulate bounce\n              const speed = Math.hypot(newVelocity.x, newVelocity.y);\n              const angle = Math.atan2(newVelocity.y, newVelocity.x);\n              const bounceAngle = angle + direction * (Math.PI / 4); // Adjust angle by 45 degrees\n\n              newVelocity.x = speed * Math.cos(bounceAngle);\n              newVelocity.y = speed * Math.sin(bounceAngle);\n\n              // Adjust position slightly to prevent sticking\n              newPosition.x = peg.x + (minDistance + 1) * Math.cos(bounceAngle);\n              newPosition.y = peg.y + (minDistance + 1) * Math.sin(bounceAngle);\n            }\n          });\n\n          // Ensure the ball stays within the game board boundaries\n          if (newPosition.x < 10 || newPosition.x > 740) {\n            newVelocity.x = -newVelocity.x * 0.5; // Reverse and dampen x velocity\n            newPosition.x = newPosition.x < 10 ? 10 : 740;\n          }\n\n          // Check for collisions with multipliers\n          let hitMultiplier = false;\n          multipliers.forEach((mult, index) => {\n            const withinX =\n              newPosition.x > mult.x && newPosition.x < mult.x + 45;\n            const withinY =\n              newPosition.y > mult.y && newPosition.y < mult.y + 45;\n\n            if (withinX && withinY && !ball.hitMultiplier) {\n              // Update budget\n              setBudget((prev) => prev + ballPrice * mult.multiplier);\n\n              // Add animation class\n              const multiplierElement = multiplierRefs.current[index];\n              if (multiplierElement) {\n                multiplierElement.classList.add('multiplier-hit');\n                setTimeout(() => {\n                  multiplierElement.classList.remove('multiplier-hit');\n                }, 500);\n              }\n\n              // Mark the ball as hit\n              ball.hitMultiplier = true;\n              hitMultiplier = true;\n            }\n          });\n\n          // Remove the ball if it has hit a multiplier or gone off-screen\n          if (hitMultiplier || newPosition.y > 900) {\n            return null;\n          } else {\n            return {\n              ...ball,\n              position: newPosition,\n              velocity: newVelocity,\n            };\n          }\n        })\n        .filter(Boolean)\n    );\n\n    animationRef.current = requestAnimationFrame(update);\n  };\n\n  animationRef.current = requestAnimationFrame(update);\n  return () => cancelAnimationFrame(animationRef.current);\n}, [multipliers, ballPrice]);\n\n// ... [rest of the code remains unchanged]\n\n  return (\n    <div className=\"game-container\">\n      <div className=\"user-interface\">\n        <h2>Budget: ${budget.toFixed(2)}</h2>\n        <label>\n          Price per ball:\n          <input\n            type=\"number\"\n            value={ballPrice}\n            onChange={(e) => setBallPrice(Number(e.target.value))}\n          />\n        </label>\n        <button onClick={addBall}>Drop Ball</button>\n      </div>\n      <div className=\"game-board\">\n        <div className=\"pegs\">\n          {pegs.map((peg, index) => (\n            <Peg key={index} x={peg.x} y={peg.y} />\n          ))}\n        </div>\n\n        <div className=\"multipliers\">\n          {multipliers.map((mult, i) => (\n            <Multiplier\n              key={i}\n              ref={(el) => (multiplierRefs.current[i] = el)}\n              multiplier={mult.multiplier}\n              x={mult.x}\n              y={mult.y}\n              id={mult.id}\n              onHit={() => {}}\n            />\n          ))}\n        </div>\n\n        {balls.map((ball) => (\n          <div\n            key={ball.id}\n            className=\"ball\"\n            style={{\n              left: `${ball.position.x}px`,\n              top: `${ball.position.y}px`,\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// Modify the generateCenteredPyramidPegs function to align with PEG_ROWS_Y\nconst generateCenteredPyramidPegs = (rows, centerX, startY) => {\n  const pegs = [];\n  const spacingX = 55;\n  const spacingY = 60;\n\n  for (let row = 1; row <= rows; row++) {\n    for (let col = 0; col < row; col++) {\n      pegs.push({\n        x: centerX + (col - (row - 1) / 2) * spacingX,\n        y: startY + (row - 1) * spacingY,\n      });\n    }\n  }\n\n  return pegs;\n};\n\nexport default PlinkoGame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}